---
layout: default
title: Ariato
---
<header>
  <h1>lazy node</h1>
  <pre><p><span class="badge is-warning">JS</span> ariato/lazy_node.js</p></pre>
</header>

<section>
  <header>LazyNode</header>
  <div>
    <p>
      The <code>LazyNode</code> controller allows to defer the loading of a DOM element when it becomes visible.
      That is very convenient to speedup the initial loading page. For example that sound smart to lazy load heavy parts of the page or content at the bottom.
    </p>

    <p>The div below is a lazy node. Open the network tab to see the XHR request.</p>

    <div id="javascript-lazy-node">
      <div data-ariato="LazyNode" data-url="/javascript/lazy_node_child">
        Loading ...
      </div>
    </div>
  </div>
  <aside>
    <pre class="language-markup"><code data-code-example="javascript-lazy-node"></code></pre>
  </aside>
</section>

<section>
  <header>Lazy node are recursive</header>
  <div>
    <p>
      Once the content of a lazy node is injected into the DOM, Ariato initializes the new elements.
      That means the lazy node content can contain other Ariato controllers.
      For the fun, let's nest 2 lazy nodes !
    </p>

    <div id="javascript-nested-lazy-nodes">
      <div data-ariato="LazyNode" data-url="/javascript/lazy_node_parent">
        Loading ...
      </div>
    </div>

    <p>Open the netwrok tab to see 2 XHR requests.</p>
  </div>
  <aside>
    <pre class="language-markup"><code data-code-example="javascript-nested-lazy-nodes"></code></pre>
  </aside>
</section>

<section>
  <header>Events</header>
  <div>
    <p>A lazy node triggers a bunch of events :</p>
    <ul>
      <li>Ariato.LazyNode.success</li>
      <li>Ariato.LazyNode.error</li>
    </ul>

    <div id="javascript-lazy-node-events">
      <script>
        Ariato.LazyNodeEventsExample = function() {
          this.node.addEventListener("Ariato.LazyNode.success", function(event) {
            event.currentTarget.innerHTML += "<br/> Ariato.LazyNode.success event has been triggered."
          }, {capture: true})
        }
      </script>

      <div data-ariato="Ariato.LazyNodeEventsExample">
        <div data-ariato="LazyNode" data-url="/javascript/lazy_node_child">
          Loading ...
        </div>
      </div>
    </div>
  </div>
  <aside>
    <pre class="language-markup"><code data-code-example="javascript-lazy-node-events"></code></pre>
  </aside>
</section>
